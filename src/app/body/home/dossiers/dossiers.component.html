<app-sidebar></app-sidebar>
<div class="main-content" id="panel">
  <app-header></app-header>
  <div class="header pb-6 ">
    <div class="container-fluid">
      <div class="header-body">
        <div class="row align-items-center py-4">
          <div class="col-lg-8 col-8">
            <nav aria-label="breadcrumb" class="d-none d-md-inline-block ml-md-4">
              <ol class="breadcrumb breadcrumb-links breadcrumb-dark">
                <li class="breadcrumb-item"><a href="/admin/locations"><i class="fas fa-home"></i></a></li>
                <li class="breadcrumb-item " ><a href="/admin/dossiers">Dossiers</a></li>
              </ol>
            </nav>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="container-fluid mt--6 mb-4">
    <div class="row">
      <div class="col">
        <div class="card">
          <div class="card-header border-0">
            <h2>Liste des dossiers</h2>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="container-fluid mt--6">
    <div class="row">
      <div class="col">
        <div class="card">
          <div class="card-header border-0">
            <div class="mx-5 text-center">
              <h3><strong>Les Dossiers</strong> </h3>
            </div>
            <br>
            <div class="row">
              <div class="col-xl-3 col-md-6 ">
                <h3 class="mb-0"><a type="button" class="btn btn-outline-info" (click)="findAll()"><i class="fa fa-list"></i>&nbsp;Les Dossiers ({{lists?.length}})</a></h3>
              </div>
              <div class="col-xl-2 col-md-6  mr-1">
                <h3 class="mb-0"><a type="button" class="btn btn-outline-success" (click)="findAllByComplete()"><i class="fa fa-list"></i>&nbsp;Aboutis ({{listsCompletes?.length}})</a> </h3>
              </div>
              <div class="col-xl-2 col-md-6  mr-1">
                <h3 class="mb-0 "><a type="button" class="btn btn-outline-warning" (click)="findAllUnComplete()"> <i class="fa fa-list"></i>&nbsp; Rejétés ({{listsUnCompletes?.length}})</a></h3>
              </div>
              <div class="col-xl-2 col-md-6 ">
                <h3 class="mb-0 "><a type="button" class="btn btn-outline-primary" (click)="findAllLoading()"> <i class="fa fa-list"></i>&nbsp; encours ({{listsLoading?.length}})</a></h3>
              </div>
            </div>
          </div>
          <!-- Light table -->
          <div class="card-body">
            <div class="table-responsive">
              <table class="table align-items-center table-flush">
                <thead class="thead-light">
                <tr>
                  <th scope="col" class="sort" data-sort="numContrat">Numero du dossier</th>
                  <th scope="col" class="sort" data-sort="nameClient">Nom du client</th>
                  <th scope="col" class="sort" data-sort="typeClient">Téléphone client</th>
                  <th scope="col" class="sort" data-sort="secteurActivite">Activité</th>
                  <th scope="col" class="sort" data-sort="raisonSociale">Raison sociale</th>
                  <th scope="col" class="sort" data-sort="status">Status</th>
                  <th scope="col">Actions</th>
                </tr>
                </thead>
                <tbody class="list">
                <tr  *ngFor="let item of lists | paginate: { itemsPerPage: 20, currentPage: p }">
                  <td >
                    <span *ngIf="item.code">{{item.code}}</span>
                    <span *ngIf="!item.code">Non defini</span>
                  </td>
                  <td>
                    <span *ngIf="item.nomDemandeur">{{item.nomDemandeur}}</span>
                    <span *ngIf="!item.nomDemandeur">Non defini</span>
                  </td>
                  <td>
                    <span *ngIf="item.telephone">{{item.telephone}}</span>
                    <span *ngIf="!item.telephone">Non defini</span>
                  </td>
                  <td>
                    <span *ngIf="item.activite">{{item.activite}}</span>
                    <span *ngIf="!item.activite">Non defini</span>
                  </td>
                  <td>
                    <span *ngIf="item.raisonSocial">{{item.raisonSocial}}</span>
                    <span *ngIf="!item.raisonSocial">Non defini</span>
                  </td>
                  <td>
                    <span *ngIf="item.status">{{item.status}}</span>
                    <span *ngIf="!item.status">Non defini</span>
                  </td>
                  <td class="text-right">
                    <div class="dropdown">
                      <a class="btn btn-sm btn-icon-only text-light" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="fas fa-ellipsis-v"></i>
                      </a>
                      <div class="dropdown-menu dropdown-menu-right dropdown-menu-arrow">
                        <a class="dropdown-item" href="/admin/dossier/detail/{{item.id}}">Detail&nbsp; <i class="fa fa-eye"></i></a>
                      </div>
                    </div>
                  </td>
                </tr>
                </tbody>
              </table>
            </div>
          </div>
          <!-- Card footer -->
          <div class="card-footer py-4">
            <nav aria-label="...">
              <ul class="pagination justify-content-end mb-0">
                <pagination-controls (pageChange)="p = $event"></pagination-controls>
              </ul>
            </nav>
          </div>
        </div>
      </div>
    </div>
    <app-footer></app-footer>
  </div>
</div>



